export const americanCities = [
  'New York',
  'Los Angeles',
  'Chicago',
  'Houston',
  'Phoenix',
  'Philadelphia',
  'San Antonio',
  'San Diego',
  'Dallas',
  'San Jose',
  'Austin',
  'Jacksonville',
  'Fort Worth',
  'Columbus',
  'San Francisco',
  'Charlotte',
  'Indianapolis',
  'Seattle',
  'Denver',
  'Washington',
  'Boston',
  'El Paso',
  'Detroit',
  'Nashville',
  'Portland',
  'Memphis',
  'Oklahoma City',
  'Las Vegas',
  'Louisville',
  'Baltimore',
  'Milwaukee',
  'Albuquerque',
  'Tucson',
  'Fresno',
  'Mesa',
  'Sacramento',
  'Atlanta',
  'Kansas City',
  'Colorado Springs',
  'Miami',
  'Raleigh',
  'Omaha',
  'Long Beach',
  'Virginia Beach',
  'Oakland',
  'Minneapolis',
  'Tulsa',
  'Arlington',
  'Tampa',
  'New Orleans',
  'Wichita',
  'Cleveland',
  'Bakersfield',
  'Aurora',
  'Anaheim',
  'Honolulu',
  'Santa Ana',
  'Riverside',
  'Corpus Christi',
  'Lexington',
  'Stockton',
  'Henderson',
  'Saint Paul',
  'St. Louis',
  'Cincinnati',
  'Pittsburgh',
  'Greensboro',
  'Anchorage',
  'Plano',
  'Lincoln',
  'Orlando',
  'Irvine',
  'Newark',
  'Toledo',
  'Durham',
  'Chula Vista',
  'Fort Wayne',
  'Jersey City',
  'St. Petersburg',
  'Laredo',
  'Madison',
  'Chandler',
  'Buffalo',
  'Lubbock',
  'Scottsdale',
  'Reno',
  'Glendale',
  'Gilbert',
  'Winstonâ€“Salem',
  'North Las Vegas',
  'Norfolk',
  'Chesapeake',
  'Garland',
  'Irving',
  'Hialeah',
  'Fremont',
  'Boise',
  'Richmond',
  'Baton Rouge',
  'Spokane',
  'Des Moines',
  'Tacoma',
  'San Bernardino',
  'Modesto',
  'Fontana',
  'Santa Clarita',
  'Birmingham',
  'Oxnard',
  'Fayetteville',
  'Moreno Valley',
  'Rochester',
  'Glendale',
  'Huntington Beach',
  'Salt Lake City',
  'Grand Rapids',
  'Amarillo',
  'Yonkers',
  'Aurora',
  'Montgomery',
  'Akron',
  'Little Rock',
  'Huntsville',
  'Augusta',
  'Port St. Lucie',
  'Grand Prairie',
  'Columbus',
  'Tallahassee',
  'Overland Park',
  'Tempe',
  'McKinney',
  'Mobile',
  'Cape Coral',
  'Shreveport',
  'Frisco',
  'Knoxville',
  'Worcester',
  'Brownsville',
  'Vancouver',
  'Fort Lauderdale',
  'Sioux Falls',
  'Ontario',
  'Chattanooga',
  'Providence',
  'Newport News',
  'Rancho Cucamonga',
  'Santa Rosa',
  'Oceanside',
  'Salem',
  'Elk Grove',
  'Garden Grove',
  'Pembroke Pines',
  'Peoria',
  'Eugene',
  'Corona',
  'Cary',
  'Springfield',
  'Fort Collins',
  'Jackson',
  'Alexandria',
  'Hayward',
  'Lancaster',
  'Lakewood',
  'Clarksville',
  'Palmdale',
  'Salinas',
  'Springfield',
  'Hollywood',
  'Pasadena',
  'Sunnyvale',
  'Macon',
  'Kansas City',
  'Pomona',
  'Escondido',
  'Killeen',
  'Naperville',
  'Joliet',
  'Bellevue',
  'Rockford',
  'Savannah',
  'Paterson',
  'Torrance',
  'Bridgeport',
  'McAllen',
  'Mesquite',
  'Syracuse',
  'Midland',
  'Pasadena',
  'Murfreesboro',
  'Miramar',
  'Dayton',
  'Fullerton',
  'Olathe',
  'Orange',
  'Thornton',
  'Roseville',
  'Denton',
  'Waco',
  'Surprise',
  'Carrollton',
  'West Valley City',
  'Charleston',
  'Warren',
  'Hampton',
  'Gainesville',
  'Visalia',
  'Coral Springs',
  'Columbia',
  'Cedar Rapids',
  'Sterling Heights',
  'New Haven',
  'Stamford',
  'Concord',
  'Kent',
  'Santa Clara',
  'Elizabeth',
  'Round Rock',
  'Thousand Oaks',
  'Lafayette',
  'Athens',
  'Topeka',
  'Simi Valley',
  'Fargo',
  'Norman',
  'Columbia',
  'Abilene',
  'Wilmington',
  'Hartford',
  'Victorville',
  'Pearland',
  'Vallejo',
  'Ann Arbor',
  'Berkeley',
  'Allentown',
  'Richardson',
  'Odessa',
  'Arvada',
  'Cambridge',
  'Sugar Land',
  'Beaumont',
  'Lansing',
  'Evansville',
  'Rochester',
  'Independence',
  'Fairfield',
  'Provo',
  'Clearwater',
  'College Station',
  'West Jordan',
  'Carlsbad',
  'El Monte',
  'Murrieta',
  'Temecula',
  'Springfield',
  'Palm Bay',
  'Costa Mesa',
  'Westminster',
  'North Charleston',
  'Miami Gardens',
  'Manchester',
  'High Point',
  'Downey',
  'Clovis',
  'Pompano Beach',
  'Pueblo',
  'Elgin',
  'Lowell',
  'Antioch',
  'West Palm Beach',
  'Peoria',
  'Everett',
  'Ventura',
  'Centennial',
  'Lakeland',
  'Gresham',
  'Richmond',
  'Billings',
  'Inglewood',
  'Broken Arrow',
  'Sandy Springs',
  'Jurupa Valley',
  'Hillsboro',
  'Waterbury',
  'Santa Maria',
  'Boulder',
  'Greeley',
  'Daly City',
  'Meridian',
  'Lewisville',
  'Davie',
  'West Covina',
  'League City',
  'Tyler',
  'Norwalk',
  'San Mateo',
  'Green Bay',
  'Wichita Falls',
  'Sparks',
  'Lakewood',
  'Burbank',
  'Rialto',
  'Allen',
  'El Cajon',
  'Las Cruces',
  'Renton',
  'Davenport',
  'South Bend',
  'Vista',
  'Tuscaloosa',
  'Clinton',
  'Edison',
  'Woodbridge',
  'San Angelo',
  'Kenosha',
  'Vacaville',
]

export const states = [
  'Alabama',
  'Alaska',
  'American Samoa',
  'Arizona',
  'Arkansas',
  'California',
  'Colorado',
  'Connecticut',
  'Delaware',
  'District of Columbia',
  'Federated States of Micronesia',
  'Florida',
  'Georgia',
  'Guam',
  'Hawaii',
  'Idaho',
  'Illinois',
  'Indiana',
  'Iowa',
  'Kansas',
  'Kentucky',
  'Louisiana',
  'Maine',
  'Marshall Islands',
  'Maryland',
  'Massachusetts',
  'Michigan',
  'Minnesota',
  'Mississippi',
  'Missouri',
  'Montana',
  'Nebraska',
  'Nevada',
  'New Hampshire',
  'New Jersey',
  'New Mexico',
  'New York',
  'North Carolina',
  'North Dakota',
  'Northern Mariana Islands',
  'Ohio',
  'Oklahoma',
  'Oregon',
  'Palau',
  'Pennsylvania',
  'Puerto Rico',
  'Rhode Island',
  'South Carolina',
  'South Dakota',
  'Tennessee',
  'Texas',
  'Utah',
  'Vermont',
  'Virgin Island',
  'Virginia',
  'Washington',
  'West Virginia',
  'Wisconsin',
  'Wyoming',
]

// type Lorem = readonly [
//   xs: readonly string[],
//   sm: readonly string[],
//   md: readonly string[],
//   lg: readonly string[]
// ]

type Lorem = readonly [
  readonly string[],
  readonly string[],
  readonly string[],
  readonly string[]
]

const loremIpsum: Lorem = [
  ['Lorem ipsum'],
  ['Lorem ipsum dolor sit amet.'],
  [
    'Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed, dolorem.',
    'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad, quidem.',
    'Lorem ipsum dolor sit amet consectetur adipisicing elit. Accusantium, vitae.',
  ],
  [
    'Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptatibus tempora nesciunt sit unde at magnam ducimus quos commodi maiores ratione? Magnam nemo aliquid at exercitationem eaque tempora perspiciatis pariatur quae?',
    'Lorem ipsum, dolor sit amet consectetur adipisicing elit. Tenetur fugit itaque asperiores eaque animi iusto saepe neque. Eaque iure non voluptatem neque labore, laborum error ad, eius saepe cum quo.',
    'Lorem ipsum dolor sit amet consectetur adipisicing elit. Enim dolores et earum. Facere qui non doloribus nostrum sapiente inventore labore, aspernatur amet blanditiis rerum atque incidunt. Sit laboriosam et earum.',
    'Lorem ipsum dolor sit amet consectetur adipisicing elit. Quos quaerat saepe quia quibusdam minima, dolor, cupiditate recusandae obcaecati nihil reprehenderit nostrum nam perspiciatis expedita deserunt delectus possimus, totam voluptas. Placeat?',
  ],
] as const

export interface RandomConfig {
  [key: string]: string[]
}

/**
 * Random Text Generator
 * @param config Configuration object with different string arrays with data to generate.
 * @example
 * const dg = new RandomGenerator({
 *   animals: ['dog', 'panda', 'cat'],
 * })
 *
 * console.log(dg.from('animals')) //cat
 * console.log(dg.from('animals')) //dog
 */
export default class RandomGenerator<T extends RandomConfig> {
  letters: string
  AB: string[]
  lorem: Lorem = loremIpsum
  cities: string[]
  states: string[]
  countries: string[]
  config: T
  /**
   *
   * @param config Configuration object with different string arrays with data to generate.
   */
  constructor(config: T = {} as T) {
    this.countries = ['US']
    this.states = states
    this.cities = americanCities
    this.letters = 'abcdefghijklmnopqrstuvwxyz'
    this.AB = this.letters.split('')
    this.config = config
  }

  protected getRandom(max: number) {
    return Math.floor(Math.random() * max)
  }

  random(array: string[]) {
    return array[this.getRandom(array.length)]
  }

  /****************API*****************/

  text(size?: 'xs' | 'sm' | 'md' | 'lg') {
    const matchSize = {
      xs: this.lorem[0],
      sm: this.lorem[1],
      md: this.lorem[2],
      lg: this.lorem[3],
    }
    if (size) {
      return matchSize[size][this.getRandom(matchSize[size].length)]
    }

    const index = this.getRandom(this.lorem.length)
    const insideIndex = this.getRandom(this.lorem[index].length)
    return this.lorem[index][insideIndex]
  }

  address() {
    let address = ''
    for (let i = 0; i < 3; i++) {
      address += Math.floor(Math.random() * 9).toString()
    }
    address += ' ' + this.city().toLowerCase()
    const end = ['dr', 'st', 'av', 'pkwy', 'rd']
    address += ' ' + end[this.getRandom(end.length)]
    return address
  }

  city() {
    return this.random(this.cities)
  }

  zipCode() {
    let zip = ''
    for (let i = 1; i < 6; i++) {
      zip += Math.floor(Math.random() * 9).toString()
    }
    return zip
  }

  date() {
    return new Date().toISOString()
  }

  randonBool() {
    return Math.random() > 0.5
  }

  protected getList(data: string[], max = 4) {
    const list: string[] = []
    let total = Math.floor(Math.random() * max)
    for (let i = 0; i <= total; i++) {
      list.push(this.random(data))
    }
    return this.removeDupplicates(list)
  }

  removeDupplicates<T>(array: T[]) {
    const set = new Set(array)
    return [...set.values()]
  }

  country() {
    return this.random(this.countries)
  }

  state() {
    return this.random(this.states)
  }

  location() {
    return {
      address: this.address(),
      city: this.city(),
      state: this.state(),
      zipcode: this.zipCode(),
      country: this.country(),
    }
  }

  from(key: keyof T) {
    if (!this.config[key]) {
      return ''
    }
    return this.random(this.config[key])
  }
}

// const dg = new RandomGenerator({
//   animals: ['dog', 'panda', 'cat'],
// })

// console.log(dg.from('animals')) //cat
// console.log(dg.from('animals')) //dog
